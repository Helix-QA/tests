



## Для автотестирования созданы следующие сценарии:

- **`Добавление гостевых визитов.feature`**
- **`Добавление посещений.feature`**
- **`Добавление услуг.feature`**
- **`Изменение срока действия.feature`**
- **`Изменение срока заморозок.feature`**
- **`Смена владельца.feature`**
- **`Смена номенклатуры.feature`**
---
## Описание автотеста "Добавление гостевых визитов.feature".

**Сценарий:** Создание данных для тестирования модификатора - Добавление гостевых визитов.

Создаваем данные для тестирования:
-  Создаем номенклатуру: Создаем сначала услугу "Персональная", которая будет участвовать в создании Членства и Пакета услуг.Затем создаем "Членство" и "Пакет услуг".
- Создаем Клиента и Гостя.
- Создаем модификатор "Добавления гостевых посещений" двух типов, один с фиксированным кол-ом гостевых посещений, второй определяет кол-во гостевых посещений при продаже.

**Сценарий:** Проверка модификатора "Добавление гостевых визитов" с членством.

В данном сценарии проверяется добавление фиксированных гостевых посещений в проданное членство. После продажи открывается рецепция, выбирается клиент, и создается гостевое посещение для ранее созданного Гостя.

После входа Гостя проверяется списание гостевого посещения через регистр накопления "Членства пакеты услуг" по заданному табличному шаблону.

После завершения проверки кол-ва добавленных и списанных гостевых посещений, к ранее проданному членству добавляются еще гостевые посещения с помощью модификатора у которого кол-во дополнительных посещений определяется "При продаже". И потом проверяется через регистр "Членства пакеты услуг" присвоились ли они Членству.

**Сценарий:** Проверка модификатора "Добавление гостевых визитов" с пакетом услуг.

В данном сценарии сначало удаляются переменные связанные с ранее созданным клиентом, потом создается новый клиент, и делается продажа Пакета услуг

Аналогично как и в сценарии с Членством, сначала проверяется добавление гостевых посещений с помощью фиксированного модификатора, списывается одно посещение с помощью Гостя, которого также пересоздали как и Клиента. 
После создания посещения проверяется списание гостевых посещений через регистр накопления "Членства пакеты услуг". 

После завершения проверки кол-ва добавленных и списанных гостевых посещений, к ранее проданному Пакету услуг добавляются еще гостевые посещения с помощью модификатора у которого кол-во дополнительных посещений определяется "При продаже". И потом проверяется через регистр "Членства пакеты услуг" присвоились ли они Пакету услуг.

## Описание автотеста "Добавление посещений.feature".

**Сценарий:** Создание данных для тестирования модификатра - Добавление посещений.

Создаваем данные для тестирования:
- Создаем номенклатуру: Создаем сначала услугу "Персональная", которая будет участвовать в создании Членства. Затем создаем "Членство" где заранее в экспортном сценарии указаывается ограниченное кол-во посещений.
- Создаем Клиента.
- Создаем модификатор "Добавление посещений" двух типов, один с фиксированным кол-ом посещений, второй определяет кол-во посещений при продаже.

**Сценарий:** Проверка модификатора "Добавление посещений" с членством.

В данном сценарии проверяется добавление фиксированных и определяющихся при продаже посещений в проданное членство.

Сначала в проданное членство добавляется фиксированное кол-во посещений, потом создается через документ "Посещения" списание одного посещения. После проверяется списания через регистр накопления "Членства пакеты услуг".

После проверки в Членство добавляют посещения с помощью модификатора, у которого кол-во дней определяется "При продаже".

## Описание автотеста "Добавление услуг.feature".

Создаваем данные для тестирования:
-  Создаем номенклатуру: Создаем сначала услугу "Персональная", которая будет участвовать в создании Членства и Пакета услуг.Затем создаем "Членство" и "Пакет услуг".
- Создаем Клиента.
- Создаем модификатор "Добавления услуг" двух типов, один с фиксированным кол-ом услуг, второй определяет кол-во услуг при продаже.

**Сценарий:** Проверка модификатора "Добавление услуг" с членством.

**Сценарий:** Проверка модификатора "Добавление услуг" с пакетом услуг.	

В двух этих сценариях создается продажа Членства/Пакет услуг, потом добавляется фиксированное кол-во услуг, и услуги которые определяются "При продаже". После добавления, в регистре накопленияю "Членства пакеты услуг" проверяется их наличие.

## Описание автотеста "Изменение срока действия.feature".

Создаваем данные для тестирования:
-  Создаем номенклатуру: Создаем сначала услугу "Персональная", которая будет участвовать в создании Членства и Пакета услуг.Затем создаем "Членство" и "Пакет услуг".
- Создаем Клиента.
- Создаем модификатор "Изменение срока действия" двух типов, один с фиксированным кол-ом услуг, второй определяет кол-во услуг при продаже.

**Сценарий:** Проверка модификатора "Изменение срока действия" с членством.

**Сценарий:** Проверка модификатора "Изменение срока действия" с пакетом услуг.

В двух этих сценариях создается продажа Членства/Пакет услуг, потом добавляется фиксированное кол-во дней к сроку действия членства, и кол-во дней которое определяются "При продаже". После добавления, в регистре накопленияю "Членства пакеты услуг" проверяется кол-во добавленных и списанных дополнительных дней к сроку действия.

## Описание автотеста "Изменение срока заморозок.feature".

Создаваем данные для тестирования:
-  Создаем номенклатуру: Создаем сначала услугу "Персональная", которая будет участвовать в создании Членства и Пакета услуг.Затем создаем "Членство" и "Пакет услуг".
- Создаем Клиента.
- Создаем модификатор "Изменение срока заморозок" двух типов, один с фиксированным кол-ом заморозок, второй определяет кол-во заморозок при продаже.
- После создания данных открывается карточка сотрудника "Админ" и в разделе "Настройки прав и доступа" добавляется возможность "Разрешить заморозку задним числом" и "Разрешить заморозку меньше минимального срока".

**Сценарий:** Проверка модификатора "Изменение срока заморозок" с членством.

Делается продажа Членства клиенту, потом заходим в карточку этого Членства добавляем с помощью фиксированного модификатора дополнительные дни для заморозки Членства. После того как их добавили, берем и замораживаем Членство, и проверяем сначала остаток дней заморозок в карточке этого Членства,а потом в регистре накопления "Членства пакеты услуг".

После проверки делается разморозка Членства, также проверяется сначала остаток дней заморозки в карточки Членства, а затем в регистре накопления "Членства пакеты услуг".

Для проверки модификатора, который определяет кол-во дней заморозки "При продаже", мы пересоздаем Клиента и делаем новому клиенту продажу Членства. После его продажи добавляем заморозки с помощью модификатора который определяется "При продаже", и сразу рамораживаем Членство, и проверяем сначала остаток дней заморозок в карточке этого Членства,а потом в регистре накопления "Членства пакеты услуг".

После проверки делается разморозка Членства, также проверяется сначала остаток дней заморозки в карточки Членства, а затем в регистре накопления "Членства пакеты услуг".

**Сценарий:** Проверка модификатора "Изменение срока заморозок" с пакетом услуг.

Проверка модификатора "Изменение срока заморозок" с пакетом услуг, сделана аналогично проверке Членства.

## Описание автотеста "Смена владельца.feature".

Создаваем данные для тестирования:
-  Создаем номенклатуру: Создаем сначала услугу "Персональная", которая будет участвовать в создании Членства и Пакета услуг.Затем создаем "Членство" и "Пакет услуг".
- Создаем Клиента и Гостя.
- Создаем модификатор "Смена владельца".

**Сценарий:** Проверка модификатора "Смена владельца" с членством и пакетов услуг.

В данном сценарии для созданного клиента продаются Членство и Пакет услуг, после продажи в карточках проданной номенклатуры делается смена владельца с Клиента на Гостя и проверяется это в карточке Членства и Пакета услуг.

**Сценарий:** Проверка модификатора "Смена владельца" с указанным сегментом клиентов.

`Проверка реализована по тикету - 610158`

Открывается ссылка на ранее созданную номенклатуру Членства/Пакета услуг, в поле "Продажа доступа клиентам:" указывается сегмент клиентов, который состоит из ранее созданного Клиента и Гостя.

После добавления открывается карточка ранее проданного Членства/Пакета услуг, активируется "Смена владельца" и через Попытка|Исключение проверяется в таблице какие клиенты доступны к смене.

## Описание автотеста "Смена номенклатуры.feature".

**Сценарий:** Создание данных для тестирования модификатра - Смена владельца.

Создаваем данные для тестирования:
-  Создаем номенклатуру: Создаем сначала услугу "Персональная", которая будет участвовать в создании Членства и Пакета услуг.Затем создаем два "Членства" и два "Пакета услуг".
- Создаем Клиента.
- Создаем модификатор "Смена номенклатуры".

**Сценарий:** Проверка модификатора "Смена номенклатуры" с членством.

В данном сценарии для созданного клиента продаются Членство и Пакет услуг, после продажи в карточках проданной номенклатуры делается смена номенклатуры с первого Членства на второе, также в Пакете услуг с первого на второй проверяется произошла ли смена.