# Проверка и создание Заявки, Сделки, Задачи

Для автотестирования созданы следующие фича-файлы:

- **`Export_ПроверкаЗаявкиСделкиЗадачи`**
- **`ПроверкаЗаявкиСделкиЗадачи`**

Для автотестирования созданы следующе макеты:
- **`ПроверкаРолейСалон`**


#### Описание автотеста проверки Задача

## Загрузка данных

    Данный сценарий предназначен для автоматизированной проверки работы модуля «Салон красоты». На начальном этапе выполняется подготовка тестовой среды и создание необходимых данных для дальнейших действий администратора. После запуска теста производится проверка наличия окна «Информация». Если окно открыто — оно закрывается, чтобы не мешать дальнейшему выполнению сценария. Затем выполняется закрытие всех открытых окон клиентского приложения, что обеспечивает чистое состояние интерфейса.Далее происходит полная очистка временных данных — удаляются все ранее созданные переменные. После этого последовательно создаются ключевые элементы для теста:
      Клиент — посетитель салона;
      Мастер — сотрудник, выполняющий услуги;
    Услуга салона — вид оказываемой процедуры (например, стрижка или маникюр);
    Даты — временные параметры, необходимые для записи клиента. Также создаются дополнительные переменные и функции, которые будут использоваться в дальнейшем ходе теста для автоматизации действий администратора и проверки корректности работы системы.

## Захожу от имени Администратора салона красоты

    На данном этапе выполняется подключение к тестовому клиенту под учетной записью «Администратор салона красоты». Это необходимо для имитации действий пользователя, обладающего административными правами в системе. После подключения система проверяет, открылось ли окно "Информация" — оно может появляться автоматически при запуске приложения. Если данное окно открыто, оно закрывается, чтобы не мешать дальнейшему выполнению сценария. Затем выполняется команда закрытия всех окон клиентского приложения, что обеспечивает чистое рабочее состояние интерфейса перед началом тестовых действий.

## Проверяю заявки

    Данный сценарий автоматизирует процесс проверки корректной работы раздела «Заявки» в модуле CRM. В начале выполняется переход в нужный раздел и открытие списка заявок. Затем сценарий создаёт новую заявку: заполняются поля Фамилия, Имя, Отчество, контактные данные (телефон, e-mail, адрес, социальная сеть), а также выбираются значения из справочников — канал привлечения, рекламный источник и источник информации. После этого вносится комментарий и дата, соответствующая текущему дню. Далее тест проверяет работу всех этапов обработки заявок — переключение статусов от пропущенного звонка до обработки, а также выполнение действия «Записать на визит». После проверки этапов сценарий тестирует дополнительные элементы интерфейса:
        работу фильтров и строки поиска,
        корректность кнопок копирования, удаления и редактирования записей,
        отображение гиперссылок и статистики по статусам заявок.
    Таким образом, сценарий полностью охватывает логику создания, редактирования, фильтрации и обработки заявок, гарантируя корректное функционирование модуля CRM в системе салона красоты.

## Проверяю задачи

    Сценарий автоматизирует проверку работы справочника «Задачи» в модуле CRM. После перехода в соответствующий раздел выполняется последовательное создание различных типов задач:
        Встреча — создаётся задача с клиентом, заполняются тема, описание и взаимодействие, затем сохраняется.
        Входящий звонок — оформляется задача, выбирается клиент и запускается выполнение.
        Исходящий звонок — создаётся аналогичная задача с указанием даты на завтра.
        Прочее — создаётся задача для сотрудника (мастера) с низкой важностью и указанием периода выполнения.
        Претензия — создаётся задача, связанная с заявкой и конкретным мастером, с высокой важностью и датой начала сегодня.
    После создания всех задач сценарий проверяет работу элементов интерфейса: гиперссылок с количеством задач по категориям (всего, невыполненные, на сегодня, на завтра), а также функционал кнопок копирования, редактирования и удаления.

## Проверяю форму сделок
    
    Сценарий автоматизирует процесс проверки раздела «Сделки» в модуле CRM. После перехода в форму сделок создаётся новая запись, где заполняются данные сотрудника, специализации, суммы, источника информации, канала привлечения, менеджера и связанной заявки. Также вносятся контактные данные клиента — телефон, e-mail, адрес и социальная сеть.
    Далее сценарий проверяет корректную работу этапов сделки и основных кнопок интерфейса:
        изменение вида сделки,
        переход между этапами,
        создание взаимодействий (визит, задача, заметка, сообщение, письмо),
        настройку и применение фильтров истории взаимодействий.
    В завершение сценарий сохраняет и закрывает сделку, подтверждая корректную работу функций создания, редактирования и взаимодействия в карточке сделки.

## Проверяю Отображение монитор визитов

    Сценарий выполняет проверку работы раздела «Монитор визитов» в модуле CRM. Проверяются переходы по всем связанным разделам (Заявки, Клиенты, Задачи, Сделки), фильтрация по сотрудникам и периодам (день, неделя, месяц), а также корректность создания новых записей (потенциальных клиентов и сделок) из интерфейса монитора.

## Перехожу на пользователя Админ

    ЗАпуская от пользователя Админ что бы дальше тесты выполняльсь оп Админа и не упали (возращаю как было)
